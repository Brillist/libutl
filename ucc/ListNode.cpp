#include <libutl/libutl.h>
#include <libutl/ListNode.h>

////////////////////////////////////////////////////////////////////////////////////////////////////

UTL_NS_BEGIN;

////////////////////////////////////////////////////////////////////////////////////////////////////

void
ListNode::addAfter(ListNode* node)
{
    _prev = node;
    _next = node->_next;
    if (node->_next != nullptr)
    {
        node->_next->_prev = this;
    }
    node->_next = this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////

void
ListNode::addBefore(ListNode* node)
{
    _prev = node->_prev;
    _next = node;
    if (node->_prev != nullptr)
    {
        node->_prev->_next = this;
    }
    node->_prev = this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////

void
ListNode::remove()
{
    if (_prev != nullptr)
    {
        _prev->_next = _next;
    }
    if (_next != nullptr)
    {
        _next->_prev = _prev;
    }
    _next = _prev = nullptr;
}

////////////////////////////////////////////////////////////////////////////////////////////////////

UTL_NS_END;
